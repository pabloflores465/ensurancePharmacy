{"ast":null,"code":"// src/services/authService.js\nconst ip = process.env.VUE_APP_IP; // Asegúrate de tener definida esta variable\nconsole.log(ip);\nconst API_URL = `http://${ip}:8000/api2`;\nexport const authService = {\n  async login(credentials) {\n    const response = await fetch(`${API_URL}/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(credentials)\n    });\n    if (!response.ok) {\n      throw new Error('Credenciales inválidas');\n    }\n    const data = await response.json();\n\n    // Si el backend retorna un token (o información del usuario), lo guardamos\n    if (data.token) {\n      localStorage.setItem('user', JSON.stringify(data));\n    }\n    return data;\n  },\n  logout() {\n    localStorage.removeItem('user');\n  },\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  }\n};","map":{"version":3,"names":["ip","process","env","VUE_APP_IP","console","log","API_URL","authService","login","credentials","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","token","localStorage","setItem","logout","removeItem","getCurrentUser","parse","getItem"],"sources":["/Users/nohelestradap/Documents/VsCode/ensurancePharmacy/pharmacy copy/src/services/authService.js"],"sourcesContent":["// src/services/authService.js\nconst ip = process.env.VUE_APP_IP; // Asegúrate de tener definida esta variable\nconsole.log(ip);\nconst API_URL = `http://${ip}:8000/api2`;\n\nexport const authService = {\n  async login(credentials) {\n    const response = await fetch(`${API_URL}/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(credentials)\n    });\n\n    if (!response.ok) {\n      throw new Error('Credenciales inválidas');\n    }\n\n    const data = await response.json();\n\n    // Si el backend retorna un token (o información del usuario), lo guardamos\n    if (data.token) {\n      localStorage.setItem('user', JSON.stringify(data));\n    }\n\n    return data;\n  },\n\n  logout() {\n    localStorage.removeItem('user');\n  },\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  }\n};"],"mappings":"AAAA;AACA,MAAMA,EAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,CAAC,CAAC;AACnCC,OAAO,CAACC,GAAG,CAACL,EAAE,CAAC;AACf,MAAMM,OAAO,GAAG,UAAUN,EAAE,YAAY;AAExC,OAAO,MAAMO,WAAW,GAAG;EACzB,MAAMC,KAAKA,CAACC,WAAW,EAAE;IACvB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,QAAQ,EAAE;MAC/CM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,WAAW;IAClC,CAAC,CAAC;IAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;IAC3C;IAEA,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;;IAElC;IACA,IAAID,IAAI,CAACE,KAAK,EAAE;MACdC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAER,IAAI,CAACC,SAAS,CAACG,IAAI,CAAC,CAAC;IACpD;IAEA,OAAOA,IAAI;EACb,CAAC;EAEDK,MAAMA,CAAA,EAAG;IACPF,YAAY,CAACG,UAAU,CAAC,MAAM,CAAC;EACjC,CAAC;EAEDC,cAAcA,CAAA,EAAG;IACf,OAAOX,IAAI,CAACY,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,MAAM,CAAC,CAAC;EACjD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}