{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { ref, computed } from 'vue';\nimport axios from \"axios\";\nexport default {\n  __name: 'Catalogo',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const ip = process.env.VUE_APP_IP;\n    const products = ref([]);\n    const fetchProduct = async () => {\n      try {\n        const response = await axios.get(`http://${ip}:8081/api2/medicines`);\n        products.value = response.data;\n        console.log(products.value);\n      } catch (error) {\n        console.error('Error fetching medicines:', error);\n      }\n    };\n    fetchProduct();\n\n    // Manejo de modal\n    const showModal = ref(false);\n    const selectedProduct = ref({});\n    const openModal = product => {\n      selectedProduct.value = product;\n      showModal.value = true;\n      // Prevenir el scroll en el fondo cuando el modal est√° abierto\n      document.body.style.overflow = 'hidden';\n    };\n    const closeModal = () => {\n      showModal.value = false;\n      // Restaurar el scroll cuando se cierra el modal\n      document.body.style.overflow = 'auto';\n    };\n\n    // Filtros\n    const searchQuery = ref('');\n    const activeIngredientFilter = ref('');\n    const brandFilter = ref('');\n    const minPrice = ref(null);\n    const maxPrice = ref(null);\n    const filteredProducts = computed(() => {\n      return products.value.filter(product => {\n        const matchesName = !searchQuery.value || product.name.toLowerCase().includes(searchQuery.value.toLowerCase());\n        const matchesIngredient = !activeIngredientFilter.value || product.activeMedicament.toLowerCase().includes(activeIngredientFilter.value.toLowerCase());\n        const matchesBrand = !brandFilter.value || product.brand.toLowerCase().includes(brandFilter.value.toLowerCase());\n        const matchesMinPrice = !minPrice.value || product.price >= minPrice.value;\n        const matchesMaxPrice = !maxPrice.value || product.price <= maxPrice.value;\n        return matchesName && matchesIngredient && matchesBrand && matchesMinPrice && matchesMaxPrice;\n      });\n    });\n    const __returned__ = {\n      ip,\n      products,\n      fetchProduct,\n      showModal,\n      selectedProduct,\n      openModal,\n      closeModal,\n      searchQuery,\n      activeIngredientFilter,\n      brandFilter,\n      minPrice,\n      maxPrice,\n      filteredProducts,\n      ref,\n      computed,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","axios","ip","process","env","VUE_APP_IP","products","fetchProduct","response","get","value","data","console","log","error","showModal","selectedProduct","openModal","product","document","body","style","overflow","closeModal","searchQuery","activeIngredientFilter","brandFilter","minPrice","maxPrice","filteredProducts","filter","matchesName","name","toLowerCase","includes","matchesIngredient","activeMedicament","matchesBrand","brand","matchesMinPrice","price","matchesMaxPrice"],"sources":["/Users/nohelestradap/Documents/VsCode/ensurancePharmacy/pharmacy/src/pages/Catalogo.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\n<!-- Catalog.vue (o como se llame tu componente) -->\n<template>\n  <div class=\"catalog-container\">\n    <!-- Banner y t√≠tulo -->\n    <div class=\"catalog-header\">\n      <h2 class=\"title\">Cat√°logo de Medicamentos</h2>\n      <p class=\"subtitle\">Encuentra los medicamentos que necesitas</p>\n    </div>\n\n    <!-- Filtros con dise√±o moderno -->\n    <div class=\"filters-container\">\n      <div class=\"search-box\">\n        <i class=\"search-icon\">üîç</i>\n        <input\n          type=\"text\"\n          v-model=\"searchQuery\"\n          placeholder=\"Buscar medicamento...\"\n          class=\"search-input\"\n        />\n      </div>\n      \n      <div class=\"filter-group\">\n        <input\n          type=\"text\"\n          v-model=\"activeIngredientFilter\"\n          placeholder=\"Principio activo\"\n          class=\"filter-input\"\n        />\n        <input\n          type=\"text\"\n          v-model=\"brandFilter\"\n          placeholder=\"Marca\"\n          class=\"filter-input\"\n        />\n        <div class=\"price-filters\">\n          <input\n            type=\"number\"\n            v-model.number=\"minPrice\"\n            placeholder=\"Precio m√≠n\"\n            class=\"filter-input price-input\"\n          />\n          <span class=\"price-separator\">-</span>\n          <input\n            type=\"number\"\n            v-model.number=\"maxPrice\"\n            placeholder=\"Precio m√°x\"\n            class=\"filter-input price-input\"\n          />\n        </div>\n      </div>\n    </div>\n  \n    <!-- Grid de productos con nuevo dise√±o -->\n    <div class=\"product-grid\">\n      <div v-for=\"product in filteredProducts\" :key=\"product.idMedicine\" class=\"product-card\">\n        <div class=\"product-content\">\n          <div class=\"product-badge\" v-if=\"product.prescription\">Requiere receta</div>\n          <h3 class=\"product-name\">{{ product.name }}</h3>\n          <p class=\"product-active\">{{ product.activeMedicament }}</p>\n          <p class=\"product-price\">Q{{ product.price.toFixed(2) }}</p>\n          \n          <div class=\"product-actions\">\n            <button class=\"details-button\" @click=\"openModal(product)\">\n              <span class=\"icon\">‚ìò</span> Detalles\n            </button>\n            <router-link :to=\"`/producto/${product.idMedicine}`\" class=\"buy-button\">\n              <span class=\"icon\">üõí</span> Comprar\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Indicador de carga -->\n    <div v-if=\"products.length === 0\" class=\"loading-container\">\n      <div class=\"loading-spinner\"></div>\n      <p>Cargando medicamentos...</p>\n    </div>\n  </div>\n\n  <!-- Modal de detalles del producto con dise√±o moderno -->\n  <div v-if=\"showModal\" class=\"modal-overlay\" @click.self=\"closeModal\">\n    <div class=\"modal-content\">\n      <button class=\"close-modal\" @click=\"closeModal\">‚úñ</button>\n      \n      <div class=\"modal-body\">\n        <div class=\"modal-header\">\n          <h2 class=\"modal-title\">{{ selectedProduct.name }}</h2>\n          <div class=\"modal-price\">Q{{ selectedProduct.price ? selectedProduct.price.toFixed(2) : '0.00' }}</div>\n          <div class=\"product-badge large\" v-if=\"selectedProduct.prescription\">Requiere receta m√©dica</div>\n        </div>\n        \n        <div class=\"info-grid\">\n          <div class=\"info-item\">\n            <h4>Principio Activo</h4>\n            <p>{{ selectedProduct.activeMedicament || 'No disponible' }}</p>\n          </div>\n          \n          <div class=\"info-item\">\n            <h4>Marca</h4>\n            <p>{{ selectedProduct.brand || 'No disponible' }}</p>\n          </div>\n          \n          <div class=\"info-item\">\n            <h4>Concentraci√≥n</h4>\n            <p>{{ selectedProduct.concentration || 'No disponible' }}</p>\n          </div>\n          \n          <div class=\"info-item\">\n            <h4>Presentaci√≥n</h4>\n            <p>{{ selectedProduct.presentacion || 'No disponible' }}</p>\n          </div>\n          \n          <div class=\"info-item\">\n            <h4>Stock Disponible</h4>\n            <p class=\"stock-indicator\" :class=\"{'low-stock': selectedProduct.stock < 10}\">\n              {{ selectedProduct.stock }} unidades\n            </p>\n          </div>\n          \n          <div class=\"info-item full-width\">\n            <h4>Descripci√≥n</h4>\n            <p class=\"description-text\">{{ selectedProduct.description || 'No hay descripci√≥n disponible para este producto.' }}</p>\n          </div>\n        </div>\n        \n        <div class=\"modal-actions\">\n          <router-link :to=\"`/producto/${selectedProduct.idMedicine}`\" class=\"modal-buy-button\">\n            Comprar Ahora\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue';\nimport axios from \"axios\";\n\n\nconst ip = process.env.VUE_APP_IP;\n\nconst products = ref([]);\n\nconst fetchProduct = async () => {\n  try {\n    const response = await axios.get(`http://${ip}:8081/api2/medicines`);\n    products.value = response.data;\n    console.log(products.value);\n  } catch (error) {\n    console.error('Error fetching medicines:', error);\n  }\n};\nfetchProduct();\n\n// Manejo de modal\nconst showModal = ref(false);\nconst selectedProduct = ref({});\n\nconst openModal = (product) => {\n  selectedProduct.value = product;\n  showModal.value = true;\n  // Prevenir el scroll en el fondo cuando el modal est√° abierto\n  document.body.style.overflow = 'hidden';\n};\n\nconst closeModal = () => {\n  showModal.value = false;\n  // Restaurar el scroll cuando se cierra el modal\n  document.body.style.overflow = 'auto';\n};\n\n// Filtros\nconst searchQuery = ref('');\nconst activeIngredientFilter = ref('');\nconst brandFilter = ref('');\nconst minPrice = ref(null);\nconst maxPrice = ref(null);\n\nconst filteredProducts = computed(() => {\n  return products.value.filter((product) => {\n    const matchesName = !searchQuery.value || product.name.toLowerCase().includes(searchQuery.value.toLowerCase());\n    const matchesIngredient = !activeIngredientFilter.value || product.activeMedicament.toLowerCase().includes(activeIngredientFilter.value.toLowerCase());\n    const matchesBrand = !brandFilter.value || product.brand.toLowerCase().includes(brandFilter.value.toLowerCase());\n    const matchesMinPrice = !minPrice.value || product.price >= minPrice.value;\n    const matchesMaxPrice = !maxPrice.value || product.price <= maxPrice.value;\n\n    return (\n      matchesName &&\n      matchesIngredient &&\n      matchesBrand &&\n      matchesMinPrice &&\n      matchesMaxPrice\n    );\n  });\n});\n</script>\n\n<style scoped>\n/* Estilos generales */\n.catalog-container {\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 2rem;\n  background-color: #f8fafc;\n  min-height: 100vh;\n}\n\n/* Encabezado del cat√°logo */\n.catalog-header {\n  text-align: center;\n  margin-bottom: 2.5rem;\n}\n\n.title {\n  font-size: 2.5rem;\n  font-weight: 700;\n  color: #1e40af;\n  margin-bottom: 0.5rem;\n}\n\n.subtitle {\n  font-size: 1.2rem;\n  color: #64748b;\n}\n\n/* Contenedor de filtros */\n.filters-container {\n  background-color: white;\n  padding: 1.5rem;\n  border-radius: 12px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);\n  margin-bottom: 2rem;\n}\n\n.search-box {\n  position: relative;\n  margin-bottom: 1rem;\n}\n\n.search-icon {\n  position: absolute;\n  left: 1rem;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #94a3b8;\n}\n\n.search-input {\n  width: 100%;\n  padding: 1rem 1rem 1rem 3rem;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n}\n\n.search-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);\n}\n\n.filter-group {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.filter-input {\n  flex: 1;\n  min-width: 180px;\n  padding: 0.8rem 1rem;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  font-size: 0.9rem;\n}\n\n.price-filters {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.price-input {\n  width: 100px;\n  min-width: auto;\n}\n\n.price-separator {\n  color: #64748b;\n}\n\n/* Grid de productos */\n.product-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 1.5rem;\n}\n\n.product-card {\n  background-color: white;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n  padding: 1.5rem;\n}\n\n.product-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n}\n\n.product-content {\n  padding: 1.2rem;\n}\n\n.product-name {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: #1e293b;\n  margin-bottom: 0.5rem;\n  height: 2.6rem;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n.product-active {\n  font-size: 0.9rem;\n  color: #64748b;\n  margin-bottom: 0.8rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.product-price {\n  font-size: 1.3rem;\n  font-weight: 700;\n  color: #16a34a;\n  margin-bottom: 1rem;\n}\n\n.product-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.details-button, .buy-button {\n  padding: 0.7rem 1rem;\n  border: none;\n  border-radius: 6px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.3rem;\n  font-size: 0.9rem;\n  text-decoration: none;\n}\n\n.details-button {\n  background-color: #f1f5f9;\n  color: #334155;\n  flex: 1;\n}\n\n.details-button:hover {\n  background-color: #e2e8f0;\n}\n\n.buy-button {\n  background-color: #1e40af;\n  color: white;\n  flex: 1;\n}\n\n.buy-button:hover {\n  background-color: #1e3a8a;\n}\n\n.icon {\n  font-size: 1rem;\n}\n\n/* Indicador de carga */\n.loading-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  color: #64748b;\n}\n\n.loading-spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid #e2e8f0;\n  border-top: 4px solid #1e40af;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 1rem;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* Modal */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n}\n\n.modal-content {\n  background-color: white;\n  border-radius: 12px;\n  width: 90%;\n  max-width: 800px;\n  max-height: 90vh;\n  overflow-y: auto;\n  position: relative;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);\n  padding: 2rem;\n}\n\n.close-modal {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  background: rgba(0, 0, 0, 0.1);\n  color: #334155;\n  border: none;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n  z-index: 10;\n}\n\n.close-modal:hover {\n  background-color: rgba(0, 0, 0, 0.2);\n}\n\n.modal-body {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n.modal-header {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.modal-title {\n  font-size: 2rem;\n  font-weight: 700;\n  color: #1e293b;\n  margin-bottom: 0.5rem;\n}\n\n.modal-price {\n  font-size: 1.8rem;\n  font-weight: 700;\n  color: #16a34a;\n  margin-bottom: 2rem;\n}\n\n.info-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n}\n\n.info-item {\n  display: flex;\n  flex-direction: column;\n}\n\n.info-item h4 {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: #64748b;\n  margin-bottom: 0.5rem;\n  text-transform: uppercase;\n}\n\n.info-item p {\n  font-size: 1.1rem;\n  color: #1e293b;\n}\n\n.full-width {\n  grid-column: 1 / -1;\n}\n\n.description-text {\n  line-height: 1.6;\n}\n\n.stock-indicator {\n  font-weight: 600;\n}\n\n.low-stock {\n  color: #ef4444;\n}\n\n.modal-actions {\n  display: flex;\n  gap: 1rem;\n}\n\n.modal-buy-button {\n  background-color: #1e40af;\n  color: white;\n  border: none;\n  padding: 1rem 1.5rem;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n  text-decoration: none;\n  display: inline-block;\n}\n\n.modal-buy-button:hover {\n  background-color: #1e3a8a;\n}\n\n.product-badge {\n  display: inline-block;\n  background-color: rgba(239, 68, 68, 0.9);\n  color: white;\n  padding: 0.3rem 0.6rem;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n\n.product-badge.large {\n  font-size: 0.85rem;\n  padding: 0.5rem 0.8rem;\n  margin-top: 0.5rem;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .modal-body {\n    padding: 1.5rem;\n  }\n  \n  .info-grid {\n    grid-template-columns: 1fr;\n  }\n}\n</style>"],"mappings":";;AA0IA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AACnC,OAAOC,KAAK,MAAM,OAAO;;;;;;;IAGzB,MAAMC,EAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU;IAEjC,MAAMC,QAAQ,GAAGP,GAAG,CAAC,EAAE,CAAC;IAExB,MAAMQ,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,UAAUP,EAAE,sBAAsB,CAAC;QACpEI,QAAQ,CAACI,KAAK,GAAGF,QAAQ,CAACG,IAAI;QAC9BC,OAAO,CAACC,GAAG,CAACP,QAAQ,CAACI,KAAK,CAAC;MAC7B,CAAC,CAAC,OAAOI,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF,CAAC;IACDP,YAAY,CAAC,CAAC;;IAEd;IACA,MAAMQ,SAAS,GAAGhB,GAAG,CAAC,KAAK,CAAC;IAC5B,MAAMiB,eAAe,GAAGjB,GAAG,CAAC,CAAC,CAAC,CAAC;IAE/B,MAAMkB,SAAS,GAAIC,OAAO,IAAK;MAC7BF,eAAe,CAACN,KAAK,GAAGQ,OAAO;MAC/BH,SAAS,CAACL,KAAK,GAAG,IAAI;MACtB;MACAS,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;IACzC,CAAC;IAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;MACvBR,SAAS,CAACL,KAAK,GAAG,KAAK;MACvB;MACAS,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,MAAM;IACvC,CAAC;;IAED;IACA,MAAME,WAAW,GAAGzB,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAM0B,sBAAsB,GAAG1B,GAAG,CAAC,EAAE,CAAC;IACtC,MAAM2B,WAAW,GAAG3B,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAM4B,QAAQ,GAAG5B,GAAG,CAAC,IAAI,CAAC;IAC1B,MAAM6B,QAAQ,GAAG7B,GAAG,CAAC,IAAI,CAAC;IAE1B,MAAM8B,gBAAgB,GAAG7B,QAAQ,CAAC,MAAM;MACtC,OAAOM,QAAQ,CAACI,KAAK,CAACoB,MAAM,CAAEZ,OAAO,IAAK;QACxC,MAAMa,WAAW,GAAG,CAACP,WAAW,CAACd,KAAK,IAAIQ,OAAO,CAACc,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACV,WAAW,CAACd,KAAK,CAACuB,WAAW,CAAC,CAAC,CAAC;QAC9G,MAAME,iBAAiB,GAAG,CAACV,sBAAsB,CAACf,KAAK,IAAIQ,OAAO,CAACkB,gBAAgB,CAACH,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACT,sBAAsB,CAACf,KAAK,CAACuB,WAAW,CAAC,CAAC,CAAC;QACtJ,MAAMI,YAAY,GAAG,CAACX,WAAW,CAAChB,KAAK,IAAIQ,OAAO,CAACoB,KAAK,CAACL,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACR,WAAW,CAAChB,KAAK,CAACuB,WAAW,CAAC,CAAC,CAAC;QAChH,MAAMM,eAAe,GAAG,CAACZ,QAAQ,CAACjB,KAAK,IAAIQ,OAAO,CAACsB,KAAK,IAAIb,QAAQ,CAACjB,KAAK;QAC1E,MAAM+B,eAAe,GAAG,CAACb,QAAQ,CAAClB,KAAK,IAAIQ,OAAO,CAACsB,KAAK,IAAIZ,QAAQ,CAAClB,KAAK;QAE1E,OACEqB,WAAW,IACXI,iBAAiB,IACjBE,YAAY,IACZE,eAAe,IACfE,eAAc;MAElB,CAAC,CAAC;IACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}