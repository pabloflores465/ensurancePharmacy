{"ast":null,"code":"import { ref } from 'vue';\nimport axios from 'axios';\n\n// Campos reactivamente enlazados al formulario\n\nexport default {\n  __name: 'CreateProduct',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const name = ref('');\n    const activeMedicament = ref('');\n    const description = ref('');\n    const image = ref('');\n    const concentration = ref('');\n    const presentacion = ref('');\n    const stock = ref(0);\n    const brand = ref('');\n    const prescription = ref('');\n    const price = ref(0.0);\n    const soldUnits = ref(0);\n    const errorMessage = ref('');\n\n    // Función principal de crear producto\n    const createProduct = async () => {\n      errorMessage.value = '';\n      try {\n        // Petición POST al backend (ajusta la URL a la tuya)\n        const response = await axios.post(`http://localhost:8081/api2/medicines`, {\n          name: name.value,\n          activeMedicament: activeMedicament.value,\n          description: description.value,\n          image: image.value,\n          concentration: concentration.value,\n          presentacion: presentacion.value,\n          stock: stock.value,\n          brand: brand.value,\n          prescription: prescription.value,\n          price: price.value,\n          soldUnits: soldUnits.value\n        });\n        console.log(\"Producto creado exitosamente:\", response.data);\n        // Redirige a la página principal o muestra un mensaje de éxito\n      } catch (error) {\n        console.error(\"Error al crear el producto:\", error);\n        errorMessage.value = 'Error al crear el producto. Por favor, inténtelo de nuevo.';\n      }\n    };\n    const __returned__ = {\n      name,\n      activeMedicament,\n      description,\n      image,\n      concentration,\n      presentacion,\n      stock,\n      brand,\n      prescription,\n      price,\n      soldUnits,\n      errorMessage,\n      createProduct,\n      ref,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","name","activeMedicament","description","image","concentration","presentacion","stock","brand","prescription","price","soldUnits","errorMessage","createProduct","value","response","post","console","log","data","error"],"sources":["/Users/nohelestradap/Documents/VsCode/ensurancePharmacy/pharmacy/src/pages/CreateProduct.vue"],"sourcesContent":["<template>\n  <div class=\"create-product-container\">\n    <h2 class=\"text-2xl font-bold text-center text-blue-800 mb-4\">\n      Crear Nuevo Producto\n    </h2>\n\n    <!-- Mensaje de error si lo hay -->\n    <div v-if=\"errorMessage\" class=\"mb-4 text-red-600 text-center\">\n      {{ errorMessage }}\n    </div>\n\n    <!-- Formulario -->\n    <form @submit.prevent=\"createProduct\">\n      <!-- Nombre -->\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700\">Nombre</label>\n        <input v-model=\"name\" type=\"text\" class=\"input-field\" required />\n      </div>\n\n      <!-- Medicamento Activo -->\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700\">Medicamento Activo</label>\n        <input v-model=\"activeMedicament\" type=\"text\" class=\"input-field\" required />\n      </div>\n\n      <!-- Descripción -->\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700\">Descripción</label>\n        <textarea v-model=\"description\" class=\"input-field\" required></textarea>\n      </div>\n\n      <!-- Imagen -->\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700\">Imagen</label>\n        <input v-model=\"image\" type=\"text\" class=\"input-field\" required />\n      </div>\n\n      <!-- Concentración -->\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700\">Concentración</label>\n        <input v-model=\"concentration\" type=\"text\" class=\"input-field\" required />\n      </div>\n\n      <!-- Presentación -->\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700\">Presentación</label>\n        <input v-model=\"presentacion\" type=\"date\" class=\"input-field\" required />\n      </div>\n\n      <!-- Stock -->\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700\">Stock</label>\n        <input v-model=\"stock\" type=\"number\" class=\"input-field\" required />\n      </div>\n\n      <!-- Marca -->\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700\">Marca</label>\n        <input v-model=\"brand\" type=\"text\" class=\"input-field\" required />\n      </div>\n\n      <!-- Prescripción -->\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700\">Prescripción</label>\n        <input v-model=\"prescription\" type=\"text\" class=\"input-field\" required />\n      </div>\n\n      <!-- Precio -->\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700\">Precio</label>\n        <input v-model=\"price\" type=\"number\" step=\"0.01\" class=\"input-field\" required />\n      </div>\n\n      <!-- Unidades Vendidas -->\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700\">Unidades Vendidas</label>\n        <input v-model=\"soldUnits\" type=\"number\" class=\"input-field\" required />\n      </div>\n\n      <!-- Botón de crear producto -->\n      <button type=\"submit\" class=\"create-button\">Crear Producto</button>\n    </form>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport axios from 'axios';\n\n// Campos reactivamente enlazados al formulario\nconst name = ref('');\nconst activeMedicament = ref('');\nconst description = ref('');\nconst image = ref('');\nconst concentration = ref('');\nconst presentacion = ref('');\nconst stock = ref(0);\nconst brand = ref('');\nconst prescription = ref('');\nconst price = ref(0.0);\nconst soldUnits = ref(0);\nconst errorMessage = ref('');\n\n// Función principal de crear producto\nconst createProduct = async () => {\n  errorMessage.value = '';\n\n  try {\n    // Petición POST al backend (ajusta la URL a la tuya)\n    const response = await axios.post(`http://localhost:8081/api2/medicines`, {\n      name: name.value,\n      activeMedicament: activeMedicament.value,\n      description: description.value,\n      image: image.value,\n      concentration: concentration.value,\n      presentacion: presentacion.value,\n      stock: stock.value,\n      brand: brand.value,\n      prescription: prescription.value,\n      price: price.value,\n      soldUnits: soldUnits.value\n    });\n\n    console.log(\"Producto creado exitosamente:\", response.data);\n    // Redirige a la página principal o muestra un mensaje de éxito\n  } catch (error) {\n    console.error(\"Error al crear el producto:\", error);\n    errorMessage.value = 'Error al crear el producto. Por favor, inténtelo de nuevo.';\n  }\n};\n</script>\n\n<style scoped>\n/* Ejemplo de estilos, ajusta a tu gusto. */\n.create-product-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 50px;\n  background-color: #f8f9fa;\n}\n\n.input-field {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  font-size: 16px;\n  margin-top: 8px;\n}\n\n.create-button {\n  width: 100%;\n  background: #1e40af;\n  color: white;\n  padding: 12px;\n  border-radius: 8px;\n  font-size: 18px;\n  font-weight: bold;\n  cursor: pointer;\n  margin-top: 1rem;\n}\n\n.create-button:hover {\n  background: #1e3a8a;\n}\n</style>\n"],"mappings":"AAsFA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;;AAEzB;;;;;;;;IACA,MAAMC,IAAI,GAAGF,GAAG,CAAC,EAAE,CAAC;IACpB,MAAMG,gBAAgB,GAAGH,GAAG,CAAC,EAAE,CAAC;IAChC,MAAMI,WAAW,GAAGJ,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAMK,KAAK,GAAGL,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMM,aAAa,GAAGN,GAAG,CAAC,EAAE,CAAC;IAC7B,MAAMO,YAAY,GAAGP,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAMQ,KAAK,GAAGR,GAAG,CAAC,CAAC,CAAC;IACpB,MAAMS,KAAK,GAAGT,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMU,YAAY,GAAGV,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAMW,KAAK,GAAGX,GAAG,CAAC,GAAG,CAAC;IACtB,MAAMY,SAAS,GAAGZ,GAAG,CAAC,CAAC,CAAC;IACxB,MAAMa,YAAY,GAAGb,GAAG,CAAC,EAAE,CAAC;;IAE5B;IACA,MAAMc,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChCD,YAAY,CAACE,KAAK,GAAG,EAAE;MAEvB,IAAI;QACF;QACA,MAAMC,QAAQ,GAAG,MAAMf,KAAK,CAACgB,IAAI,CAAC,sCAAsC,EAAE;UACxEf,IAAI,EAAEA,IAAI,CAACa,KAAK;UAChBZ,gBAAgB,EAAEA,gBAAgB,CAACY,KAAK;UACxCX,WAAW,EAAEA,WAAW,CAACW,KAAK;UAC9BV,KAAK,EAAEA,KAAK,CAACU,KAAK;UAClBT,aAAa,EAAEA,aAAa,CAACS,KAAK;UAClCR,YAAY,EAAEA,YAAY,CAACQ,KAAK;UAChCP,KAAK,EAAEA,KAAK,CAACO,KAAK;UAClBN,KAAK,EAAEA,KAAK,CAACM,KAAK;UAClBL,YAAY,EAAEA,YAAY,CAACK,KAAK;UAChCJ,KAAK,EAAEA,KAAK,CAACI,KAAK;UAClBH,SAAS,EAAEA,SAAS,CAACG;QACvB,CAAC,CAAC;QAEFG,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEH,QAAQ,CAACI,IAAI,CAAC;QAC3D;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdH,OAAO,CAACG,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QACnDR,YAAY,CAACE,KAAK,GAAG,4DAA4D;MACnF;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}