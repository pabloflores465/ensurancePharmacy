{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"admin-dashboard\"\n};\nconst _hoisted_2 = {\n  class: \"dashboard-container\"\n};\nconst _hoisted_3 = {\n  class: \"connection-info\"\n};\nconst _hoisted_4 = {\n  class: \"text-gray-600\"\n};\nconst _hoisted_5 = {\n  class: \"export-container\"\n};\nconst _hoisted_6 = [\"disabled\"];\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = {\n  key: 1\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"export-message success\"\n};\nconst _hoisted_10 = {\n  key: 1,\n  class: \"export-message error\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"error-message\"\n};\nconst _hoisted_12 = {\n  class: \"summary-cards\"\n};\nconst _hoisted_13 = {\n  class: \"summary-card\"\n};\nconst _hoisted_14 = {\n  class: \"card-content\"\n};\nconst _hoisted_15 = {\n  class: \"card-value\"\n};\nconst _hoisted_16 = {\n  class: \"summary-card\"\n};\nconst _hoisted_17 = {\n  class: \"card-content\"\n};\nconst _hoisted_18 = {\n  class: \"card-value\"\n};\nconst _hoisted_19 = {\n  class: \"summary-card\"\n};\nconst _hoisted_20 = {\n  class: \"card-content\"\n};\nconst _hoisted_21 = {\n  class: \"card-value\"\n};\nconst _hoisted_22 = {\n  key: 1,\n  class: \"loading-container\"\n};\nconst _hoisted_23 = {\n  class: \"dashboard-grid\"\n};\nconst _hoisted_24 = {\n  class: \"dashboard-card top-categories\"\n};\nconst _hoisted_25 = {\n  class: \"chart-container\"\n};\nconst _hoisted_26 = {\n  key: 0,\n  class: \"chart-legend\"\n};\nconst _hoisted_27 = {\n  class: \"legend-label\"\n};\nconst _hoisted_28 = {\n  class: \"legend-value\"\n};\nconst _hoisted_29 = {\n  key: 1,\n  class: \"no-data-message\"\n};\nconst _hoisted_30 = {\n  class: \"dashboard-card sales\"\n};\nconst _hoisted_31 = {\n  class: \"chart-container\"\n};\nconst _hoisted_32 = {\n  class: \"sales-summary\"\n};\nconst _hoisted_33 = {\n  class: \"total-amount\"\n};\nconst _hoisted_34 = {\n  class: \"total-amount\"\n};\nconst _hoisted_35 = {\n  class: \"dashboard-card inventory\"\n};\nconst _hoisted_36 = {\n  class: \"chart-container\"\n};\nconst _hoisted_37 = {\n  class: \"inventory-status\"\n};\nconst _hoisted_38 = {\n  class: \"status-label\"\n};\nconst _hoisted_39 = {\n  class: \"status-value\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_Header), _createElementVNode(\"div\", _hoisted_2, [_cache[17] || (_cache[17] = _createElementVNode(\"h1\", {\n    class: \"dashboard-title\"\n  }, \"Dashboard Administrativo\", -1 /* HOISTED */)), _createCommentVNode(\" InformaciÃ³n de conexiÃ³n \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"p\", _hoisted_4, [_cache[0] || (_cache[0] = _createElementVNode(\"span\", {\n    class: \"font-bold\"\n  }, \"IP del servidor:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.ip) + \" \", 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"span\", {\n    class: \"font-bold ml-4\"\n  }, \"Puerto:\", -1 /* HOISTED */)), _cache[2] || (_cache[2] = _createTextVNode(\" 8081 \"))])]), _createCommentVNode(\" BotÃ³n para exportar medicamentos en XML \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    class: \"export-btn\",\n    onClick: $setup.exportMedicinesXML,\n    disabled: $setup.isExportingXML\n  }, [$setup.isExportingXML ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _cache[3] || (_cache[3] = [_createElementVNode(\"span\", {\n    class: \"spinner-small\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Exportando... \")]))) : (_openBlock(), _createElementBlock(\"span\", _hoisted_8, _cache[4] || (_cache[4] = [_createElementVNode(\"i\", {\n    class: \"export-icon\"\n  }, \"ðŸ“¥\", -1 /* HOISTED */), _createTextVNode(\" Exportar Medicamentos XML \")])))], 8 /* PROPS */, _hoisted_6), $setup.exportSuccess ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \" Â¡ExportaciÃ³n exitosa! \")) : _createCommentVNode(\"v-if\", true), $setup.exportError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \" Error al exportar XML. Intente nuevamente. \")) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Mensaje de error si hay problemas con las APIs \"), $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _toDisplayString($setup.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Indicadores de resumen \"), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n    class: \"card-icon\"\n  }, \"ðŸ’Š\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_14, [_cache[5] || (_cache[5] = _createElementVNode(\"h3\", {\n    class: \"card-title\"\n  }, \"Total CategorÃ­as\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_15, _toDisplayString($setup.totalCategories), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_16, [_cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n    class: \"card-icon\"\n  }, \"ðŸ’°\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_17, [_cache[7] || (_cache[7] = _createElementVNode(\"h3\", {\n    class: \"card-title\"\n  }, \"Ventas Anuales\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_18, \" Q\" + _toDisplayString($setup.calculateTotalSales().toLocaleString()), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_19, [_cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    class: \"card-icon\"\n  }, \"ðŸ“Š\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_20, [_cache[9] || (_cache[9] = _createElementVNode(\"h3\", {\n    class: \"card-title\"\n  }, \"Inventario Total\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_21, _toDisplayString($setup.totalInventory) + \" unidades\", 1 /* TEXT */)])])]), _createCommentVNode(\" Pantalla de carga \"), $setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, _cache[11] || (_cache[11] = [_createElementVNode(\"div\", {\n    class: \"spinner\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"p\", null, \"Cargando datos del dashboard...\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" Contenido principal \"), _createElementVNode(\"div\", _hoisted_23, [_createCommentVNode(\" GrÃ¡fica 1: Top CategorÃ­as \"), _createElementVNode(\"div\", _hoisted_24, [_cache[12] || (_cache[12] = _createElementVNode(\"h2\", {\n    class: \"card-title\"\n  }, \"Top 10 CategorÃ­as de Medicamentos\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_25, [_createVNode($setup[\"Pie\"], {\n    data: $setup.topCategoriesData,\n    options: $setup.categoryOptions,\n    height: 220\n  }, null, 8 /* PROPS */, [\"data\", \"options\"])]), $setup.topCategoriesData.labels.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_26, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.topCategoriesData.labels, (value, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"legend-item\"\n    }, [_createElementVNode(\"span\", {\n      class: \"color-box\",\n      style: _normalizeStyle({\n        backgroundColor: $setup.topCategoriesData.datasets[0].backgroundColor[index % 10]\n      })\n    }, null, 4 /* STYLE */), _createElementVNode(\"span\", _hoisted_27, _toDisplayString(value) + \":\", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_28, _toDisplayString($setup.topCategoriesData.datasets[0].data[index]) + \"%\", 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_29, \" No hay datos de categorÃ­as disponibles \"))]), _createCommentVNode(\" GrÃ¡fica 2: Ventas Mensuales \"), _createElementVNode(\"div\", _hoisted_30, [_cache[15] || (_cache[15] = _createElementVNode(\"h2\", {\n    class: \"card-title\"\n  }, \"Ventas Mensuales\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_31, [_createVNode($setup[\"Bar\"], {\n    data: $setup.monthlySalesData,\n    options: $setup.salesOptions,\n    height: 220\n  }, null, 8 /* PROPS */, [\"data\", \"options\"])]), _createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"p\", null, [_cache[13] || (_cache[13] = _createTextVNode(\" Total anual: \")), _createElementVNode(\"span\", _hoisted_33, \"Q\" + _toDisplayString($setup.calculateTotalSales().toLocaleString()), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[14] || (_cache[14] = _createTextVNode(\" Promedio mensual: \")), _createElementVNode(\"span\", _hoisted_34, \"Q\" + _toDisplayString(Math.round($setup.calculateTotalSales() / 12).toLocaleString()), 1 /* TEXT */)])])]), _createCommentVNode(\" GrÃ¡fica 3: Estado del Inventario \"), _createElementVNode(\"div\", _hoisted_35, [_cache[16] || (_cache[16] = _createElementVNode(\"h2\", {\n    class: \"card-title\"\n  }, \"Estado del Inventario\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_36, [_createVNode($setup[\"Doughnut\"], {\n    data: $setup.inventoryStatusData,\n    options: $setup.inventoryOptions,\n    height: 180\n  }, null, 8 /* PROPS */, [\"data\", \"options\"])]), _createElementVNode(\"div\", _hoisted_37, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.inventoryStatusData.labels, (label, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: _normalizeClass([\"status-item\", `status-${label.toLowerCase().replace(' ', '-')}`])\n    }, [_createElementVNode(\"span\", _hoisted_38, _toDisplayString(label) + \":\", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_39, _toDisplayString($setup.inventoryStatusData.datasets[0].data[index]) + \" productos\", 1 /* TEXT */)], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_Header","_createElementVNode","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","_createTextVNode","_toDisplayString","$setup","ip","_hoisted_5","onClick","exportMedicinesXML","disabled","isExportingXML","_hoisted_7","_cache","_hoisted_8","_hoisted_6","exportSuccess","_hoisted_9","exportError","_hoisted_10","error","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","totalCategories","_hoisted_16","_hoisted_17","_hoisted_18","calculateTotalSales","toLocaleString","_hoisted_19","_hoisted_20","_hoisted_21","totalInventory","isLoading","_hoisted_22","_Fragment","_hoisted_23","_hoisted_24","_hoisted_25","data","topCategoriesData","options","categoryOptions","height","labels","length","_hoisted_26","_renderList","value","index","style","_normalizeStyle","datasets","backgroundColor","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","monthlySalesData","salesOptions","_hoisted_32","_hoisted_33","_hoisted_34","Math","round","_hoisted_35","_hoisted_36","inventoryStatusData","inventoryOptions","_hoisted_37","label","_normalizeClass","toLowerCase","replace","_hoisted_38","_hoisted_39"],"sources":["/Users/nohelestradap/Documents/VsCode/ensurancePharmacy/pharmacy copy/src/pages/AdminDash.vue"],"sourcesContent":["<script setup>\nimport { ref, onMounted } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { useUserStore } from \"@/stores/userStore\";\nimport { Bar, Pie, Doughnut } from \"vue-chartjs\";\nimport {\n  Chart,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement,\n  RadialLinearScale,\n} from \"chart.js\";\n\nimport axios from \"axios\";\n\n// Registrar componentes de Chart.js\nChart.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement,\n  RadialLinearScale\n);\n\nconst router = useRouter();\nconst userStore = useUserStore();\n\n// Obtener IP del servidor\nconst ip = process.env.VUE_APP_IP || \"127.0.0.1\";\nconsole.log(\"IP del servidor para API:\", ip);\n\n// Estado para almacenar los datos de las grÃ¡ficas\nconst topCategoriesData = ref({\n  labels: [],\n  datasets: [\n    {\n      backgroundColor: [\n        \"#FF6384\",\n        \"#36A2EB\",\n        \"#FFCE56\",\n        \"#4BC0C0\",\n        \"#9966FF\",\n        \"#FF9F40\",\n        \"#C9CBCF\",\n        \"#7FB800\",\n        \"#00A6ED\",\n        \"#F6511D\",\n      ],\n      data: [],\n    },\n  ],\n});\n\nconst monthlySalesData = ref({\n  labels: [\n    \"Enero\",\n    \"Febrero\",\n    \"Marzo\",\n    \"Abril\",\n    \"Mayo\",\n    \"Junio\",\n    \"Julio\",\n    \"Agosto\",\n    \"Septiembre\",\n    \"Octubre\",\n    \"Noviembre\",\n    \"Diciembre\",\n  ],\n  datasets: [\n    {\n      label: \"Ventas Mensuales\",\n      backgroundColor: \"#4BC0C0\",\n      data: [],\n    },\n  ],\n});\n\nconst inventoryStatusData = ref({\n  labels: [\"En exceso\", \"Ã“ptimo\", \"Bajo\", \"CrÃ­tico\"],\n  datasets: [\n    {\n      backgroundColor: [\"#48bb78\", \"#4299e1\", \"#ecc94b\", \"#f56565\"],\n      data: [],\n    },\n  ],\n});\n\n// EstadÃ­sticas de resumen\nconst totalCategories = ref(0);\nconst totalSales = ref(0);\nconst totalInventory = ref(0);\n\n// Opciones de grÃ¡ficas\nconst categoryOptions = ref({\n  responsive: true,\n  maintainAspectRatio: false,\n  plugins: {\n    title: {\n      display: true,\n      text: \"Top 10 CategorÃ­as de Medicamentos\",\n    },\n    legend: {\n      position: \"right\",\n    },\n    tooltip: {\n      callbacks: {\n        label: function (context) {\n          return `${context.label}: ${context.raw}%`;\n        },\n      },\n    },\n  },\n});\n\nconst salesOptions = ref({\n  responsive: true,\n  maintainAspectRatio: false,\n  plugins: {\n    title: {\n      display: true,\n      text: \"Ventas Mensuales\",\n    },\n    legend: {\n      display: false,\n    },\n    tooltip: {\n      callbacks: {\n        label: function (context) {\n          return `Q${context.raw.toLocaleString()}`;\n        },\n      },\n    },\n  },\n  scales: {\n    y: {\n      beginAtZero: true,\n      ticks: {\n        callback: function (value) {\n          return \"Q\" + value.toLocaleString();\n        },\n      },\n    },\n  },\n});\n\nconst inventoryOptions = ref({\n  responsive: true,\n  maintainAspectRatio: false,\n  cutout: \"70%\",\n  plugins: {\n    title: {\n      display: true,\n      text: \"Estado del Inventario\",\n    },\n    legend: {\n      position: \"bottom\",\n    },\n  },\n});\n\n// Variables para estado de carga\nconst isLoading = ref(true);\nconst error = ref(null);\nconst pharmacy = parseInt(window.location.port);\nconst pharmacy_port = pharmacy-30;\n// Variables para estado de la exportaciÃ³n XML\nconst isExportingXML = ref(false);\nconst exportSuccess = ref(false);\nconst exportError = ref(false);\n\n// Comprobar si el usuario es administrador\nconst checkAdminStatus = () => {\n  console.log(\"Verificando si el usuario es administrador\");\n\n  // MÃ©todo 1: Verificar en el store\n  if (userStore.isAdmin()) {\n    console.log(\"El usuario es admin segÃºn el store\");\n    return true;\n  }\n\n  // MÃ©todo 2: Verificar directamente en localStorage\n  try {\n    // Verificar en 'role'\n    const storedRole = localStorage.getItem(\"role\");\n    if (storedRole === \"admin\") {\n      console.log(\"Usuario es admin segÃºn localStorage.role\");\n      return true;\n    }\n\n    // Verificar en 'user'\n    const storedUser = localStorage.getItem(\"user\");\n    if (storedUser) {\n      const parsedUser = JSON.parse(storedUser);\n      if (parsedUser.role === \"admin\") {\n        console.log(\"Usuario es admin segÃºn localStorage.user\");\n        // Actualizar el store por si acaso\n        userStore.setUser(parsedUser);\n        return true;\n      }\n    }\n\n    // Verificar en 'session'\n    const storedSession = localStorage.getItem(\"session\");\n    if (storedSession) {\n      const parsedSession = JSON.parse(storedSession);\n      if (parsedSession.role === \"admin\") {\n        console.log(\"Usuario es admin segÃºn localStorage.session\");\n        // Actualizar el store por si acaso\n        userStore.setUser(parsedSession);\n        return true;\n      }\n    }\n  } catch (e) {\n    console.error(\"Error al verificar admin en localStorage:\", e);\n  }\n\n  // Si llegamos aquÃ­, no es admin o no hay datos\n  console.log(\"No se encontrÃ³ rol admin. Redirigiendo...\");\n  router.push(\"/login\");\n  setTimeout(() => {\n    alert(\"Acceso denegado: Solo administradores pueden acceder a este panel\");\n  }, 500);\n  return false;\n};\n\n// Obtener datos de medicamentos y procesarlos para las grÃ¡ficas\nconst fetchMedicinesData = async () => {\n  try {\n    console.log(\"Obteniendo datos de medicamentos\");\n    const response = await axios.get(`http://${ip}:${pharmacy_port}/api2/medicines`);\n    const medicines = response.data;\n    console.log(\"Datos de medicamentos obtenidos:\", medicines);\n\n    // Verificar si hay datos\n    if (!medicines || medicines.length === 0) {\n      console.log(\"No hay datos de medicamentos, usando datos de ejemplo\");\n\n      // Datos de ejemplo\n      const exampleData = [\n        { name: \"AnalgÃ©sicos\", value: 320, percentage: 32 },\n        { name: \"AntibiÃ³ticos\", value: 245, percentage: 24 },\n        { name: \"Antiinflamatorios\", value: 180, percentage: 18 },\n        { name: \"AntihistamÃ­nicos\", value: 95, percentage: 9 },\n        { name: \"Antidepresivos\", value: 70, percentage: 7 },\n        { name: \"Antihipertensivos\", value: 50, percentage: 5 },\n        { name: \"Antigripales\", value: 30, percentage: 3 },\n        { name: \"Vitaminas\", value: 10, percentage: 1 },\n        { name: \"Suplementos\", value: 5, percentage: 0.5 },\n        { name: \"Otros\", value: 5, percentage: 0.5 },\n      ];\n\n      // Actualizar datos de categorÃ­a\n      topCategoriesData.value.labels = exampleData.map((item) => item.name);\n      topCategoriesData.value.datasets[0].data = exampleData.map(\n        (item) => item.percentage\n      );\n\n      // Datos de ejemplo para inventario\n      inventoryStatusData.value.datasets[0].data = [15, 45, 20, 10];\n\n      // Actualizar estadÃ­sticas\n      totalCategories.value = exampleData.length;\n      totalInventory.value = 90;\n\n      return [];\n    }\n\n    // Procesar datos para categorÃ­as (usando activeMedicament como categorÃ­a)\n    const categories = {};\n    let totalInventoryCount = 0;\n\n    medicines.forEach((medicine) => {\n      const category = medicine.activeMedicament || \"Sin categorÃ­a\";\n      if (!categories[category]) {\n        categories[category] = 0;\n      }\n      // Sumar unidades vendidas (o unidades en stock si no hay vendidas)\n      categories[category] += medicine.soldUnits || 1;\n\n      // Contar inventario total\n      totalInventoryCount += medicine.stock || 0;\n    });\n\n    // Convertir a array y ordenar por ventas\n    let sortedCategories = Object.entries(categories)\n      .map(([name, value]) => ({ name, value }))\n      .sort((a, b) => b.value - a.value);\n\n    // Almacenar total de categorÃ­as\n    totalCategories.value = sortedCategories.length;\n\n    // Tomar solo las 10 primeras\n    sortedCategories = sortedCategories.slice(0, 10);\n\n    // Calcular porcentajes\n    const totalCategorySales = sortedCategories.reduce(\n      (sum, cat) => sum + cat.value,\n      0\n    );\n    sortedCategories.forEach((cat) => {\n      cat.percentage = Math.round((cat.value / totalCategorySales) * 100);\n    });\n\n    // Actualizar datos de grÃ¡fica de categorÃ­as\n    topCategoriesData.value.labels = sortedCategories.map((cat) => cat.name);\n    topCategoriesData.value.datasets[0].data = sortedCategories.map(\n      (cat) => cat.percentage\n    );\n\n    // Procesar datos para estado de inventario\n    const inventoryStatus = {\n      \"En exceso\": 0,\n      Ã“ptimo: 0,\n      Bajo: 0,\n      CrÃ­tico: 0,\n    };\n\n    medicines.forEach((medicine) => {\n      const stock = medicine.stock || 0;\n      if (stock > 50) {\n        inventoryStatus[\"En exceso\"]++;\n      } else if (stock > 20) {\n        inventoryStatus[\"Ã“ptimo\"]++;\n      } else if (stock > 5) {\n        inventoryStatus[\"Bajo\"]++;\n      } else {\n        inventoryStatus[\"CrÃ­tico\"]++;\n      }\n    });\n\n    // Actualizar datos de grÃ¡fica de inventario\n    inventoryStatusData.value.datasets[0].data = [\n      inventoryStatus[\"En exceso\"],\n      inventoryStatus[\"Ã“ptimo\"],\n      inventoryStatus[\"Bajo\"],\n      inventoryStatus[\"CrÃ­tico\"],\n    ];\n\n    // Actualizar conteo total de inventario\n    totalInventory.value = totalInventoryCount;\n\n    return medicines;\n  } catch (error) {\n    console.error(\"Error al obtener datos de medicamentos:\", error);\n\n    // Datos de ejemplo en caso de error\n    const exampleData = [\n      { name: \"AnalgÃ©sicos\", value: 320, percentage: 32 },\n      { name: \"AntibiÃ³ticos\", value: 245, percentage: 24 },\n      { name: \"Antiinflamatorios\", value: 180, percentage: 18 },\n      { name: \"AntihistamÃ­nicos\", value: 95, percentage: 9 },\n      { name: \"Antidepresivos\", value: 70, percentage: 7 },\n      { name: \"Antihipertensivos\", value: 50, percentage: 5 },\n      { name: \"Antigripales\", value: 30, percentage: 3 },\n      { name: \"Vitaminas\", value: 10, percentage: 1 },\n      { name: \"Suplementos\", value: 5, percentage: 0.5 },\n      { name: \"Otros\", value: 5, percentage: 0.5 },\n    ];\n\n    // Actualizar datos\n    topCategoriesData.value.labels = exampleData.map((item) => item.name);\n    topCategoriesData.value.datasets[0].data = exampleData.map(\n      (item) => item.percentage\n    );\n    inventoryStatusData.value.datasets[0].data = [15, 45, 20, 10];\n    totalCategories.value = exampleData.length;\n    totalInventory.value = 90;\n\n    throw error;\n  }\n};\n\n// Obtener datos de transacciones/ventas\nconst fetchTransactionsData = async () => {\n  try {\n    console.log(\"Obteniendo datos de transacciones/facturas\");\n    // Primero intentamos con la API de transacciones\n    let transactions = [];\n    try {\n      const response = await axios.get(`http://${ip}:${pharmacy_port}/api2/transactions`);\n      transactions = response.data;\n      console.log(\"Datos de transacciones obtenidos:\", transactions);\n    } catch (e) {\n      console.log(\"Error al obtener transacciones, intentando con bills:\", e);\n      // Si falla, intentamos con la API de facturas\n      const response = await axios.get(`http://${ip}:${pharmacy_port}/api2/bills`);\n      transactions = response.data;\n      console.log(\"Datos de facturas obtenidos:\", transactions);\n    }\n\n    // Inicializar datos de ventas mensuales\n    const monthlySales = Array(12).fill(0);\n\n    // Procesar transacciones por mes\n    transactions.forEach((transaction) => {\n      // Verificar si el campo fecha existe\n      const dateField = transaction.transDate || transaction.billDate || null;\n      if (dateField) {\n        const date = new Date(dateField);\n        const month = date.getMonth();\n        // Sumar el total de la transacciÃ³n\n        monthlySales[month] += transaction.total || 0;\n      }\n    });\n\n    // Si no hay datos, usar datos de ejemplo\n    if (monthlySales.every((value) => value === 0)) {\n      console.log(\"No hay datos reales de ventas, usando datos de ejemplo\");\n      for (let i = 0; i < 12; i++) {\n        monthlySales[i] = Math.floor(Math.random() * 10000) + 5000;\n      }\n    }\n\n    // Actualizar datos de grÃ¡fica de ventas\n    monthlySalesData.value.datasets[0].data = monthlySales;\n\n    // Calcular total de ventas\n    totalSales.value = monthlySales.reduce((sum, value) => sum + value, 0);\n\n    return transactions;\n  } catch (error) {\n    console.error(\"Error al obtener datos de transacciones:\", error);\n    // Si no hay datos, generar datos de ejemplo\n    const monthlySales = [];\n    for (let i = 0; i < 12; i++) {\n      monthlySales.push(Math.floor(Math.random() * 10000) + 5000);\n    }\n    monthlySalesData.value.datasets[0].data = monthlySales;\n    totalSales.value = monthlySales.reduce((sum, value) => sum + value, 0);\n\n    throw error;\n  }\n};\n\n// Nuevo mÃ©todo para exportar medicamentos en XML\nconst exportMedicinesXML = async () => {\n  try {\n    // Mostrar indicador de carga\n    isExportingXML.value = true;\n\n    // Realizar solicitud al endpoint de XML\n    const response = await axios.get(`http://${ip}:${pharmacy_port}/api2/medicines-xml`, {\n      responseType: \"blob\",\n    });\n\n    // Crear URL para el blob\n    const blob = new Blob([response.data], { type: \"application/xml\" });\n    const url = window.URL.createObjectURL(blob);\n\n    // Crear elemento de enlace para descarga\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.setAttribute(\"download\", \"medicines.xml\");\n    document.body.appendChild(link);\n\n    // Iniciar descarga\n    link.click();\n\n    // Limpiar\n    window.URL.revokeObjectURL(url);\n    document.body.removeChild(link);\n\n    // Mostrar mensaje de Ã©xito\n    exportSuccess.value = true;\n    setTimeout(() => {\n      exportSuccess.value = false;\n    }, 3000);\n  } catch (error) {\n    console.error(\"Error al exportar medicamentos en XML:\", error);\n    exportError.value = true;\n    setTimeout(() => {\n      exportError.value = false;\n    }, 3000);\n  } finally {\n    isExportingXML.value = false;\n  }\n};\n\n// Calcular el total de ventas\nconst calculateTotalSales = () => {\n  return totalSales.value;\n};\n\n// Cargar todos los datos\nconst loadAllData = async () => {\n  isLoading.value = true;\n  error.value = null;\n\n  try {\n    await Promise.all([fetchMedicinesData(), fetchTransactionsData()]);\n  } catch (err) {\n    console.error(\"Error al cargar datos:\", err);\n    error.value =\n      \"No se pudieron cargar algunos datos. Se muestran datos parciales o de ejemplo.\";\n  } finally {\n    isLoading.value = false;\n  }\n};\n\n// Ejecutar al montar el componente\nonMounted(async () => {\n  if (checkAdminStatus()) {\n    await loadAllData();\n  }\n});\n</script>\n\n<template>\n  <div class=\"admin-dashboard\">\n    <Header />\n\n    <div class=\"dashboard-container\">\n      <h1 class=\"dashboard-title\">Dashboard Administrativo</h1>\n\n      <!-- InformaciÃ³n de conexiÃ³n -->\n      <div class=\"connection-info\">\n        <p class=\"text-gray-600\">\n          <span class=\"font-bold\">IP del servidor:</span> {{ ip }}\n          <span class=\"font-bold ml-4\">Puerto:</span> 8081\n        </p>\n      </div>\n\n      <!-- BotÃ³n para exportar medicamentos en XML -->\n      <div class=\"export-container\">\n        <button\n          class=\"export-btn\"\n          @click=\"exportMedicinesXML\"\n          :disabled=\"isExportingXML\"\n        >\n          <span v-if=\"isExportingXML\">\n            <span class=\"spinner-small\"></span> Exportando...\n          </span>\n          <span v-else>\n            <i class=\"export-icon\">ðŸ“¥</i> Exportar Medicamentos XML\n          </span>\n        </button>\n        <div v-if=\"exportSuccess\" class=\"export-message success\">\n          Â¡ExportaciÃ³n exitosa!\n        </div>\n        <div v-if=\"exportError\" class=\"export-message error\">\n          Error al exportar XML. Intente nuevamente.\n        </div>\n      </div>\n\n      <!-- Mensaje de error si hay problemas con las APIs -->\n      <div v-if=\"error\" class=\"error-message\">\n        {{ error }}\n      </div>\n\n      <!-- Indicadores de resumen -->\n      <div class=\"summary-cards\">\n        <div class=\"summary-card\">\n          <div class=\"card-icon\">ðŸ’Š</div>\n          <div class=\"card-content\">\n            <h3 class=\"card-title\">Total CategorÃ­as</h3>\n            <p class=\"card-value\">{{ totalCategories }}</p>\n          </div>\n        </div>\n\n        <div class=\"summary-card\">\n          <div class=\"card-icon\">ðŸ’°</div>\n          <div class=\"card-content\">\n            <h3 class=\"card-title\">Ventas Anuales</h3>\n            <p class=\"card-value\">\n              Q{{ calculateTotalSales().toLocaleString() }}\n            </p>\n          </div>\n        </div>\n\n        <div class=\"summary-card\">\n          <div class=\"card-icon\">ðŸ“Š</div>\n          <div class=\"card-content\">\n            <h3 class=\"card-title\">Inventario Total</h3>\n            <p class=\"card-value\">{{ totalInventory }} unidades</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Pantalla de carga -->\n      <div v-if=\"isLoading\" class=\"loading-container\">\n        <div class=\"spinner\"></div>\n        <p>Cargando datos del dashboard...</p>\n      </div>\n\n      <!-- Contenido principal -->\n      <div v-else class=\"dashboard-grid\">\n        <!-- GrÃ¡fica 1: Top CategorÃ­as -->\n        <div class=\"dashboard-card top-categories\">\n          <h2 class=\"card-title\">Top 10 CategorÃ­as de Medicamentos</h2>\n          <div class=\"chart-container\">\n            <Pie\n              :data=\"topCategoriesData\"\n              :options=\"categoryOptions\"\n              :height=\"220\"\n            />\n          </div>\n          <div v-if=\"topCategoriesData.labels.length > 0\" class=\"chart-legend\">\n            <div\n              v-for=\"(value, index) in topCategoriesData.labels\"\n              :key=\"index\"\n              class=\"legend-item\"\n            >\n              <span\n                class=\"color-box\"\n                :style=\"{\n                  backgroundColor:\n                    topCategoriesData.datasets[0].backgroundColor[index % 10],\n                }\"\n              ></span>\n              <span class=\"legend-label\">{{ value }}:</span>\n              <span class=\"legend-value\"\n                >{{ topCategoriesData.datasets[0].data[index] }}%</span\n              >\n            </div>\n          </div>\n          <div v-else class=\"no-data-message\">\n            No hay datos de categorÃ­as disponibles\n          </div>\n        </div>\n\n        <!-- GrÃ¡fica 2: Ventas Mensuales -->\n        <div class=\"dashboard-card sales\">\n          <h2 class=\"card-title\">Ventas Mensuales</h2>\n          <div class=\"chart-container\">\n            <Bar\n              :data=\"monthlySalesData\"\n              :options=\"salesOptions\"\n              :height=\"220\"\n            />\n          </div>\n          <div class=\"sales-summary\">\n            <p>\n              Total anual:\n              <span class=\"total-amount\"\n                >Q{{ calculateTotalSales().toLocaleString() }}</span\n              >\n            </p>\n            <p>\n              Promedio mensual:\n              <span class=\"total-amount\"\n                >Q{{\n                  Math.round(calculateTotalSales() / 12).toLocaleString()\n                }}</span\n              >\n            </p>\n          </div>\n        </div>\n\n        <!-- GrÃ¡fica 3: Estado del Inventario -->\n        <div class=\"dashboard-card inventory\">\n          <h2 class=\"card-title\">Estado del Inventario</h2>\n          <div class=\"chart-container\">\n            <Doughnut\n              :data=\"inventoryStatusData\"\n              :options=\"inventoryOptions\"\n              :height=\"180\"\n            />\n          </div>\n          <div class=\"inventory-status\">\n            <div\n              v-for=\"(label, index) in inventoryStatusData.labels\"\n              :key=\"index\"\n              class=\"status-item\"\n              :class=\"`status-${label.toLowerCase().replace(' ', '-')}`\"\n            >\n              <span class=\"status-label\">{{ label }}:</span>\n              <span class=\"status-value\"\n                >{{\n                  inventoryStatusData.datasets[0].data[index]\n                }}\n                productos</span\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.admin-dashboard {\n  background-color: #f8f9fa;\n  min-height: 100vh;\n}\n\n.dashboard-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 2rem;\n}\n\n.dashboard-title {\n  color: #1e40af;\n  font-size: 2rem;\n  font-weight: bold;\n  margin-bottom: 1rem;\n  text-align: center;\n}\n\n/* Estilos para exportaciÃ³n de XML */\n.export-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 2rem;\n}\n\n.export-btn {\n  background-color: #1e40af;\n  color: white;\n  border: none;\n  border-radius: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  transition: all 0.2s;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.export-btn:hover {\n  background-color: #1e3a8a;\n  transform: translateY(-2px);\n}\n\n.export-btn:disabled {\n  background-color: #a0aec0;\n  cursor: not-allowed;\n}\n\n.export-icon {\n  margin-right: 0.5rem;\n  font-style: normal;\n}\n\n.export-message {\n  margin-top: 0.75rem;\n  padding: 0.5rem 1rem;\n  border-radius: 0.25rem;\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n\n.export-message.success {\n  background-color: #c6f6d5;\n  color: #2f855a;\n}\n\n.export-message.error {\n  background-color: #fed7d7;\n  color: #c53030;\n}\n\n.spinner-small {\n  display: inline-block;\n  width: 1rem;\n  height: 1rem;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  border-top-color: white;\n  animation: spin 1s linear infinite;\n  margin-right: 0.5rem;\n}\n\n.error-message {\n  background-color: #fecaca;\n  color: #b91c1c;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  margin-bottom: 1.5rem;\n  text-align: center;\n}\n\n.summary-cards {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n}\n\n.summary-card {\n  background-color: white;\n  border-radius: 0.5rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  padding: 1.5rem;\n  display: flex;\n  align-items: center;\n  transition: transform 0.2s;\n}\n\n.summary-card:hover {\n  transform: translateY(-5px);\n}\n\n.card-icon {\n  font-size: 2rem;\n  margin-right: 1rem;\n}\n\n.card-title {\n  color: #4a5568;\n  font-size: 0.9rem;\n  margin-bottom: 0.5rem;\n}\n\n.card-value {\n  color: #1e40af;\n  font-size: 1.5rem;\n  font-weight: bold;\n  margin: 0;\n}\n\n.dashboard-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));\n  gap: 2rem;\n}\n\n.dashboard-card {\n  background-color: white;\n  border-radius: 0.5rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  padding: 1.5rem;\n  transition: transform 0.2s;\n  overflow: hidden;\n}\n\n.dashboard-card:hover {\n  transform: translateY(-5px);\n}\n\n.card-title {\n  color: #1e40af;\n  font-size: 1.25rem;\n  font-weight: bold;\n  margin-bottom: 1rem;\n}\n\n.chart-container {\n  height: 220px;\n  position: relative;\n  margin-bottom: 1rem;\n}\n\n.no-data-message {\n  text-align: center;\n  color: #718096;\n  padding: 1rem;\n  background-color: #f7fafc;\n  border-radius: 0.25rem;\n}\n\n/* Leyenda para categorÃ­as */\n.chart-legend {\n  margin-top: 1rem;\n  max-height: 150px;\n  overflow-y: auto;\n  border-top: 1px solid #e2e8f0;\n  padding-top: 0.5rem;\n}\n\n.legend-item {\n  display: flex;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n\n.color-box {\n  width: 12px;\n  height: 12px;\n  border-radius: 2px;\n  margin-right: 0.5rem;\n}\n\n.legend-label {\n  flex: 1;\n  font-size: 0.85rem;\n}\n\n.legend-value {\n  font-weight: bold;\n  color: #1e40af;\n}\n\n/* Resumen de ventas */\n.sales-summary {\n  margin-top: 1rem;\n  text-align: right;\n  padding: 0.5rem;\n  background-color: #f8f9fa;\n  border-radius: 0.25rem;\n}\n\n.total-amount {\n  font-weight: bold;\n  color: #1e40af;\n}\n\n/* Estado de inventario */\n.inventory-status {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 0.5rem;\n  margin-top: 1rem;\n}\n\n.status-item {\n  background-color: #f8f9fa;\n  padding: 0.5rem;\n  border-radius: 0.25rem;\n  display: flex;\n  flex-direction: column;\n  font-size: 0.85rem;\n}\n\n.status-label {\n  font-weight: 500;\n}\n\n.status-value {\n  font-weight: bold;\n}\n\n.status-en-exceso {\n  border-left: 3px solid #48bb78;\n  background-color: rgba(198, 246, 213, 0.3);\n}\n\n.status-Ã³ptimo {\n  border-left: 3px solid #4299e1;\n  background-color: rgba(190, 227, 248, 0.3);\n}\n\n.status-bajo {\n  border-left: 3px solid #ecc94b;\n  background-color: rgba(254, 252, 191, 0.3);\n}\n\n.status-crÃ­tico {\n  border-left: 3px solid #f56565;\n  background-color: rgba(254, 215, 215, 0.3);\n}\n\n/* Pantalla de carga */\n.loading-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 4rem;\n}\n\n.spinner {\n  border: 4px solid rgba(0, 0, 0, 0.1);\n  border-left-color: #1e40af;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  animation: spin 1s linear infinite;\n  margin-bottom: 1rem;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .dashboard-container {\n    padding: 1rem;\n  }\n\n  .dashboard-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .summary-cards {\n    grid-template-columns: 1fr;\n  }\n}\n\n.connection-info {\n  background-color: #f8fafc;\n  padding: 0.5rem 1rem;\n  border-radius: 0.5rem;\n  margin-bottom: 1rem;\n  border: 1px solid #e2e8f0;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}