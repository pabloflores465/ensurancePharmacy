{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  class: \"purchase-section\",\n  style: {\n    \"margin-top\": \"20px\"\n  }\n};\nconst _hoisted_4 = [\"max\"];\nconst _hoisted_5 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Comentarios = _resolveComponent(\"Comentarios\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"h1\", null, \"Detalle del Producto\", -1 /* HOISTED */)), _createCommentVNode(\" Si el producto existe, mostramos su información \"), $data.product ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h2\", null, _toDisplayString($data.product.name), 1 /* TEXT */), _createCommentVNode(\" Mostrar imagen principal si existe \"), $data.product.images && $data.product.images.length ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $data.product.images[0],\n    alt: \"Imagen principal del producto\",\n    style: {\n      \"width\": \"200px\",\n      \"border-radius\": \"8px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_2)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"p\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"strong\", null, \"Precio:\", -1 /* HOISTED */)), _createTextVNode(\" Q\" + _toDisplayString($data.product.price), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"strong\", null, \"Descripción:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.product.description), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[4] || (_cache[4] = _createElementVNode(\"strong\", null, \"Inventario:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.product.stock) + \" unidades\", 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"strong\", null, \"Ingrediente Activo:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.product.activeMedicament), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"strong\", null, \"Descripción:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.product.description), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"strong\", null, \"Concentración:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.product.concentration), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[8] || (_cache[8] = _createElementVNode(\"strong\", null, \"Presentación:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.product.presentacion), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"strong\", null, \"Marca:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.product.brand), 1 /* TEXT */)]), _createVNode(_component_Comentarios, {\n    initialComments: $data.productComments\n  }, null, 8 /* PROPS */, [\"initialComments\"]), _createElementVNode(\"div\", _hoisted_3, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"quantity\"\n  }, \"Cantidad:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"quantity\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.quantity = $event),\n    min: 1,\n    max: $data.product.stock,\n    style: {\n      \"width\": \"60px\",\n      \"margin-left\": \"10px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_4), [[_vModelText, $data.quantity, void 0, {\n    number: true\n  }]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.purchaseProduct && $options.purchaseProduct(...args)),\n    disabled: !$data.quantity || $data.quantity < 1 || $data.quantity > $data.product.stock,\n    style: {\n      \"margin-left\": \"10px\"\n    }\n  }, \" Comprar \", 8 /* PROPS */, _hoisted_5)])])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Si no existe el producto, mostramos un mensaje de error \"), _cache[11] || (_cache[11] = _createElementVNode(\"div\", null, [_createElementVNode(\"p\", null, \"Producto no encontrado.\")], -1 /* HOISTED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]);\n}","map":{"version":3,"names":["key","class","style","_createElementBlock","_createElementVNode","_createCommentVNode","$data","product","_hoisted_1","_toDisplayString","name","images","length","src","alt","_hoisted_2","_createTextVNode","price","description","stock","activeMedicament","concentration","presentacion","brand","_createVNode","_component_Comentarios","initialComments","productComments","_hoisted_3","for","type","id","_cache","$event","quantity","min","max","_hoisted_4","number","onClick","args","$options","purchaseProduct","disabled","_hoisted_5","_Fragment"],"sources":["/Users/nohelestradap/Documents/VsCode/ensurancePharmacy/pharmacy/src/pages/ProductoDetalle.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n    <div>\n      <h1>Detalle del Producto</h1>\n  \n      <!-- Si el producto existe, mostramos su información -->\n      <div v-if=\"product\">\n        <h2>{{ product.name }}</h2>\n        <!-- Mostrar imagen principal si existe -->\n        <img \n          v-if=\"product.images && product.images.length\" \n          :src=\"product.images[0]\" \n          alt=\"Imagen principal del producto\" \n          style=\"width: 200px; border-radius: 8px;\"\n        />\n  \n        <p><strong>Precio:</strong> Q{{ product.price }}</p>\n        <p><strong>Descripción:</strong> {{ product.description }}</p>\n        <p><strong>Inventario:</strong> {{ product.stock }} unidades</p>\n        <p><strong>Ingrediente Activo:</strong> {{ product.activeMedicament }}</p>\n        <p><strong>Descripción:</strong> {{ product.description }}</p>\n        <p><strong>Concentración:</strong> {{ product.concentration }}</p>\n        <p><strong>Presentación:</strong> {{ product.presentacion }}</p>\n        <p><strong>Marca:</strong> {{ product.brand }}</p>\n        <Comentarios :initialComments=\"productComments\" />\n\n        <div class=\"purchase-section\" style=\"margin-top: 20px;\">\n          <label for=\"quantity\">Cantidad:</label>\n          <input\n            type=\"number\"\n            id=\"quantity\"\n            v-model.number=\"quantity\"\n            :min=\"1\"\n            :max=\"product.stock\"\n            style=\"width: 60px; margin-left: 10px;\"\n          />\n          <button\n            @click=\"purchaseProduct\"\n            :disabled=\"!quantity || quantity < 1 || quantity > product.stock\"\n            style=\"margin-left: 10px;\"\n          >\n            Comprar\n          </button>\n        </div>\n      </div>\n      <!-- Si no existe el producto, mostramos un mensaje de error -->\n      <div v-else>\n        <p>Producto no encontrado.</p>\n      </div>\n    </div>\n  </template>\n\n  <script>\n  import Comentarios from '@/components/Comentarios.vue';\n  import axios from \"axios\";\n  //import { useUserStore } from '@/stores/userStore';\n // const userStore = useUserStore();\n\n  const ip = process.env.VUE_APP_IP;\n\n  export default {\n    name: \"ProductoDetalle\",\n    components: {\n      Comentarios\n    },\n    // Se recibe el id del producto vía props (asegúrate de que el router lo pase correctamente)\n    props: [\"id\"],\n    data() {\n      return {\n        product: null,\n        quantity: 1,\n        productComments: [\n          { idComments: 1, user: { name: 'Juan' }, commentText: '¡Muy buen producto!' },\n          { idComments: 2, user: { name: 'Maria' }, commentText: 'Me ayudó mucho, gracias!' }\n        ]\n      };\n    },\n    mounted() {\n      const routeId = this.$route.params.id;\n      axios.get(`http://${ip}:8081/api2/medicines`)\n          .then(response => {\n //           console.log(\"Usuario: \",user)\n            const products = response.data;\n            console.log(this.$route.params.id);\n            this.product = products.find(prod => prod.idMedicine === Number(routeId));\n          })\n          .catch(error => {\n            console.error('Error fetching medicines:', error);\n          });\n    },\n    methods: {\n      purchaseProduct() {\n        // Realiza el post con axios; la configuración la dejas como está para luego modificarla si lo deseas\n        axios.post(`http://${ip}:8081/api2/purchase`, {\n          productId: this.product.idMedicine,\n          quantity: this.quantity\n        })\n        .then(response => {\n          console.log('Compra realizada:', response.data);\n        })\n        .catch(error => {\n          console.error('Error en la compra:', error);\n        });\n      }\n    }\n  };\n  </script>\n  \n  <style scoped>\n  /* Estilos opcionales */\n  </style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}