# K6 Stress Testing Alerts
# Basado en los umbrales del dashboard de Grafana k6-dashboard.json

# Alert: High Error Rate
# Umbral: > 5% (0.05) es crÃ­tico, > 1% (0.01) es warning
alarm: k6_high_error_rate
   on: k6_http_req_failed
 calc: $this
units: %
every: 10s
 warn: $this > 0.01
 crit: $this > 0.05
 info: K6 stress test error rate is high

# Alert: High Response Time (p95)
# Umbral: > 1000ms es crÃ­tico, > 500ms es warning
alarm: k6_high_response_time_p95
   on: k6_http_req_duration
 calc: $p95
units: ms
every: 10s
 warn: $this > 500
 crit: $this > 1000
 info: K6 stress test p95 response time is high

# Alert: Failed Checks
alarm: k6_failed_checks
   on: k6_checks
 calc: $fail
units: checks
every: 10s
 warn: $this > 0
 crit: $this > 5
 info: K6 stress test has failing checks
